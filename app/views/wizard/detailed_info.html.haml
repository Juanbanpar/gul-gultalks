- page_title t("event.new_event")
= render partial: "breadcrumbs"

.row
  .large-12.columns
    %h1.subheader 
      = t("event.detailed_info")
    %h5.subheader
      = t("event.complete_detailed_form")
    %hr
-# .row
-#   .large-12.columns
-#     %h5.subheader
-#       = t("event.complete_detailed_form")

= form_for(@event, url: wizard_path, method: :put) do |f|

  - @event.errors.full_messages.each do |msg|
    .row
      .large-12.columns
        .alert-box.alert.radius
          = msg

  .row
    .large-12.columns
      %span 
        Sólo se pueden añadir hasta un máximo de 5 integrantes por actividad. 
      #speakers
        = f.fields_for :speakers do |speaker|
          = render "speaker_fields", f: speaker
        .links.right
          = link_to_add_association t("speaker.add"), f, :speakers, class: "button tiny radius"

  .row
    .large-12.columns
      %label{for: "content_url"}
        %i.fa.fa-link.fa-fw.fa-lg.subheader
        = t("event.url")
        .right
          %sub#content_url-counter 128
      = f.url_field :content_url, label: false, maxlength: 128, type: "url", plceholder: "http://", class: "radius lettrify", data: { counter: "#content_url-counter"}
  .row
    .large-12.columns
      %label{for: "code"}
        %i.fa.fa-code.fa-fw.fa-lg.subheader
        = t("event.code")
        .right
          %sub#code-counter 128
      = f.url_field :code, label: false, maxlength: 128, type: "url", placeholder: "http://", class: "radius lettrify", data: { counter: "#code-counter"}


  .row
    .large-12.columns
      %label{for: "tags"}
        %i.fa.fa-tags.fa-fw.fa-lg.subheader
        = t("event.tags")
        %i.fa.fa-question-circle.fa-fw{"aria-haspopup" => "true", "data-tooltip" => "", title: t("event.tag_format")}
        .right
          %sub#tags-counter 128
      = f.text_field :tags, label: false, maxlength: 128, class: "radius lettrify", placeholder: t("event.tag_format"), data: { counter: "#tags-counter"}

  .row
    .large-4.columns
      %label{for: "language"}
        %i.fa.fa-globe.fa-fw.fa-lg.subheader
        = t("event.language")
        %small
          = t("event.required")
      = select("event", "language", t("event.languages").keys.collect {|l| [t("event.languages.#{l}").humanize, l]},{include_blank: true, selected: "selected"}, required: true, class: "radius")

    .large-4.columns
      %label{for: "duration"}
        %i.fa.fa-clock-o.fa-fw.fa-lg.subheader
        = t("event.duration")
        %small
          = t("event.required")
      = select("event", "duration", Event.durations.keys.collect {|d| [t("event.durations.#{d}").humanize, d]}, { include_blank: true, selected: "selected"}, class: "radius", required: true, label: false)

    .large-4.columns
      %label{for: "level"}
        %i.fa.fa-lightbulb-o.fa-lg.subheader
        = t("event.level")
        %small
          = t("event.required")
      = select("event", "level", Event.levels.keys.collect {|l| [t("event.levels.#{l}").humanize, l]}, { include_blank: true, selected: "selected"}, class: "radius", required: true, label: false)
      /%span.level-name

      -# .row.hide-for-touch
      -#   .large-12.columns
      -#     - Event.levels.keys.each do |l|
      -#       = radio_button("event", "level", "#{l}")
      -#       %label
      -#         = t("event.levels.#{l}").humanize

  .row
    .large-12.columns
      %label{for: "comments"}
        %i.fa.fa-comments.fa-fw.fa-lg.subheader
        = t("event.comments")
        %i.fa.fa-question-circle.fa-fw{"aria-haspopup" => "true", "data-tooltip" => "", title: t("event.notes_requirements")}
        .right
          %sub#comments-counter 300
      = f.text_area :notes, label: false, maxlength: 300, pattern: "extended_alphanumeric", class: "radius lettrify", size: "10x6", data: { counter: "#comments-counter"}

  .row
    .large-12.columns
      .show-for-touch.hide-for-medium-up
        .switch.radius.small
          // FIXME: !?!?! 
          %label{for: "cert_accepted"}
          = check_box("cert", "accepted", { class: '' }, "no", "yes")
          Quiero solicitar un certificado como ponente
      .show-for-medium-up
        = check_box("cert", "accepted", { class: '' }, "no", "yes")
        %label Quiero solicitar un certificado como ponente
  -# .row
  -#   .large-12.columns
  -#     = check_box("eula", "accepted", { class: 'eula_check' }, "yes", "no")
  -#     %span Acepto las condiciones de privacidad
      
  .row
    .large-3.columns.right
      = f.button type: "submit",  class: "button radius expand success" do
        = content_tag(:span, t("event.next_step"))
        %span.fa.fa-chevron-right.fa-fw.fa-lg
