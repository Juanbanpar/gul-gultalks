- page_title t("event.edit_event")

= event_breadcrumbs(@conference, @form, "edit")

.row
  .visible-for-medium-down
    .large-3.columns
      = link_to conference_path(@conference), { class: "button tiny radius expand" } do
        %span.fa.fa-chevron-left.fa-fw.fa-lg
        = t("back").humanize

.row
  .large-12.columns
    %h1.subheader
      = t("event.detailed_info")
    %h5.subheader
      = t("event.complete_detailed_form")
    %hr

= form_for @form, url: {controller: "events", action: "save_edit"} do |f|

  = render "basic_fields_event", f: f, form: @form

  .row
    .large-12.columns
      .alert-box.radius{data: {alert: ""}}
        %i.fa.fa-hand-o-right.fa-lg.fa-fw
        = t("warning.up_to_five")
        %a.close{href:""} Ã—

  -# Accordion for small screens
  .show-for-small-up
    .row
      .large-12.columns
        %dl.accordion{"data-accordion" => ""}
          = f.fields_for :speakers do |speaker|
            - sp_index = speaker.index + 1
            %dd.accordion-navigation
              %a.text-center{href: "#speaker_#{sp_index}"}
                = t("speaker.caption", index: sp_index)
              .content{id: "speaker_#{sp_index}"}
                = render "partials/speaker_fields", f: speaker, index: sp_index

  .row
    .large-12.columns
      %label{for: "content_url"}
        %i.fa.fa-link.fa-fw.fa-lg.subheader
        = t("event.url")
        .right
          %sub 128
      = f.url_field :content_url, label: false, maxlength: 128, type: "url", placeholder: "http://", class: "radius"

  .row
    .large-12.columns
      %label{for: "code"}
        %i.fa.fa-code.fa-fw.fa-lg.subheader
        = t("event.code")
        .right
          %sub 128
      = f.url_field :code, label: false, maxlength: 128, type: "url", placeholder: "http://", class: "radius"

  .row
    .large-12.columns
      %label{for: "tag_list"}
        %i.fa.fa-tags.fa-fw.fa-lg.subheader
        = t("event.tags")
        %i.fa.fa-question-circle.fa-fw{"aria-haspopup" => "true", "data-tooltip" => "", title: t("event.tag_format")}
        .right
          %sub 128
      = f.text_field :tag_list, label: false, maxlength: 128, class: "radius", placeholder: t("event.tag_format"), value: @form.tag_list.join(",")

  .row
    .large-4.columns
      %label{for: "language"}
        %i.fa.fa-globe.fa-fw.fa-lg.subheader
        = t("event.language")
        %small
          = t("event.required")
      = f.select(:language, t("event.languages").keys.map {|l| [t("event.languages.#{l}").humanize, l]}, class: "radius", required: true, label: false)

    .large-4.columns
      %label{for: "duration"}
        %i.fa.fa-clock-o.fa-fw.fa-lg.subheader
        = t("event.duration")
        %small
          = t("event.required")
      = f.select(:duration, Event.durations.keys.map {|d| [t("event.durations.#{d}").humanize, d]}, class: "radius", required: true, label: false)

    .large-4.columns
      %label{for: "level"}
        %i.fa.fa-lightbulb-o.fa-fw.fa-lg.subheader
        = t("event.level")
        %small
          = t("event.required")
      = f.select(:level, Event.levels.keys.map {|l| [t("event.levels.#{l}").humanize, l]}, class: "radius", required: true, label: false)

  .row
    .large-12.columns
      %label{for: "comments"}
        %i.fa.fa-comments.fa-fw.fa-lg.subheader
        = t("event.comments")
        %i.fa.fa-question-circle.fa-fw{"aria-haspopup" => "true", "data-tooltip" => "", title: t("event.notes_requirements")}
        .right
          %sub 300
      = f.text_area :notes, label: false, maxlength: 300, pattern: "extended_alphanumeric", class: "radius", size: "10x6"

  = render "send_event", f: f
